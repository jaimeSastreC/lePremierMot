{% extends "@App/basePublic.html.twig" %}

{% block contenu %}
    <div class="container-fluid main">
        <div class="row">

            <div class="col-4 border-right">
                <div class="container flex-column">
                    {% block sidebar %}
                        <aside>
                            <nav >
                                <h2>Menu</h2>
                                <ul class="nav">
                                    <li class="nav-item">
                                        <form class="form-inline" method="get" action="{{ path('client_reservation_search_name') }}">
                                            <input class="form-control " type="search" placeholder="reservation: nom Client" aria-label="Search" name="searchName">
                                            <button class="btn btn-outline-success " type="submit">Recherche</button>
                                        </form>
                                    </li>
                                </ul>
                            </nav>
                        </aside>
                    {% endblock %}
                </div>
            </div>

            <div class="col-6">
                <main>
                    <p>
                        <a href="{{ path('form_reservation', {'id': client}) }}">Ajouter une Reservation</a>
                    </p>
                    <p>
                        <a href="{{ path('reservations_client', {'client_id': client}) }}">liste de toutes les réservations</a>
                    </p>


                    <div class="text-align-center">

                        {# Liste les spectaurs avec une boucle for #}
                        {% if reservation %}

                            <div>
                                <p>
                                    n° de Réservation : {{ reservation.id}}<br>
                                    date de reservation: {{ reservation.dateReservation|date("d/m/Y")  }}<br>
                                    montant total de reservation: {{ reservation.montantReservation}} €<br> {#TODO calcul montant#}
                                    spectacle : {{ reservation.spectacle.nomSpectacle}}<br>
                                </p>
                                <p>
                                    {% for spectateur in reservation.spectateurs%}
                                        nom : {{ spectateur.nomSpectateur}}&nbsp n° billet {{ spectateur.id}}
                                    {% endfor %}
                                </p>

                                <a href="{{ path('modif_reservation',  {'id': reservation.id}) }}">
                                    <button class="modifier" type="submit">Modifier</button>
                                </a>
                                <hr>

                            </div>

                        {% endif %}
                    </div>

                </main>
            </div>
        </div>
    </div>


{% endblock %}

