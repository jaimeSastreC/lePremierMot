{% extends "@App/baseAdmin.html.twig" %}

{% block contenu %}
    {#{{ dump(reservations) }}#}
        <p>
            <a href="{{ path('admin_form_reservation') }}">Ajouter une Reservation</a>
        </p>
        <div class="row ">
        {# Liste les spectaurs avec une boucle for #}
        {% for reservation in reservations %}
            <div class="col">
                <p>
                    n° de réservation : {{ reservation.id}}<br>
                    spectacle : <em><strong>"{{ reservation.spectacle.nomSpectacle}}" </strong><br> date: {{ reservation.spectacle.dateSpectacle|date("d/m/Y") }} séance de: {{ reservation.spectacle.heureDebutSpectacle|date("H:i") }}</em><br>
                    date de réservation: {{ reservation.dateReservation|date("d/m/Y")  }}<br>
                    montant total de la réservation: <strong>{{ reservation.montantReservation}}</strong> &euro;<br>

                     {% if reservation.client %}
                            client : <strong>{{ reservation.client.nomClient}}&nbsp{{ reservation.client.prenomClient}}</strong><br>
                     {% endif %}
                </p>

                <p>
                    {% for spectateur in reservation.spectateurs%}
                        nom : {{ spectateur.nomSpectateur}}&nbsp n° billet {{ spectateur.id}}<br>
                    {% endfor %}
                </p>

                <a href="{{ path('admin_supp_reservation',  {'id': reservation.id}) }}">
                    <button class="supprimer" type="submit">Supprimer</button>
                </a>
                <a href="{{ path('admin_modif_reservation',  {'id': reservation.id}) }}">
                    <button class="modifier" type="submit">Modifier</button>
                </a>

            </div>
        {% endfor %}
        </div>
{% endblock %}

