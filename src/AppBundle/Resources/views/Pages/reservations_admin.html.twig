{% extends "@App/baseAdmin.html.twig" %}

{% block contenu %}Administrator
    {#{{ dump(reservations) }}#}
    <p>
        <a href="{{ path('accueil')}}">Lien accueil</a>
    </p>
    <p>
        <a href="{{ path('admin_form_reservation') }}">Ajouter une Reservation</a>
    </p>

    <div class="">

        {# Liste les spectaurs avec une boucle for #}
        {% for reservation in reservations %}

            <div>
                <p>
                    n° de réservation : {{ reservation.id}}<br>
                    spectacle : {{ reservation.spectacle.nomSpectacle}}<br>
                    date de réservation: {{ reservation.dateReservation|date("m/d/Y")  }}<br>
                    montant total de la réservation: {{ reservation.montantReservation}} &euro;<br>

                    client : {{ reservation.client.nomClient}}&nbsp{{ reservation.client.prenomClient}}<br>
                </p>
                <p> {#TODO verifier formule spectateurs#}
                    {% for spectateur in reservation.spectateur%}
                        nom : {{ spectateur.nomSpectateur}}&nbsp n° billet{{ spectateur.id}}
                    {% endfor %}
                </p>

                <a href="{{ path('admin_supp_reservation',  {'id': reservation.id}) }}">
                    <button class="supprimer" type="submit">Supprimer</button>
                </a>
                <a href="{{ path('admin_modif_reservation',  {'id': reservation.id}) }}">
                    <button class="modifier" type="submit">Modifier</button>
                </a>
                <hr>

            </div>

        {% endfor %}
    </div>


{% endblock %}

